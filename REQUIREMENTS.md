# Web Application Framework Requirements

## Project Overview

This document outlines the technical framework requirements for a self-contained web application built with modern web technologies and deployed using Docker containerization.

## Business Requirements

### Software Product Tracking System

This application tracks various software products used by different units within a university environment. The system manages the following key entities and relationships:

#### Software Products

- [x] **Software Product Management**
  - Track multiple software products used across university units
  - Each product has associated metadata and properties
  - Products are associated with specific university units/departments
  - Product lifecycle tracking and management

- [x] **Required Software Properties**
  - **Software Name**: Unique identifier and display name for the software
  - **Operating System(s)**: Track which operating systems the software runs on
    - Support for multiple OS selections (Windows, macOS, Linux, etc.)
    - Version-specific OS requirements if applicable
  - **Vendor Management Status**: Indicate if the software is vendor-managed
    - Boolean flag for vendor-managed vs. internally managed
    - **Vendor Name**: If vendor-managed, capture the vendor/company name
  - **Additional Metadata**: Version, description, license information, installation notes, etc.

#### Employee Roles and Responsibilities

- [x] **Three Primary Roles per Software Product**
  - **Business Owner**: Responsible for business decisions and requirements
  - **Technical Owner**: Responsible for technical implementation and maintenance
  - **Technical Manager**: Responsible for technical oversight and management

- [x] **Role Assignment Flexibility**
  - Each software product must have all three roles assigned
  - The same employee can fill multiple roles for the same product
  - The same employee can fill the same role across multiple products
  - All three roles can be assigned to different employees
  - All three roles can be assigned to the same employee
  - Any combination of role assignments is permitted

#### Employee Management

- [x] **Employee Database**
  - Maintain database of university employees
  - Employee identification and contact information (first name, last name, email, phone, department, job title)
  - Track employee assignments across multiple products and roles
  - Support for role history and changes over time
  - Role count tracking (business owner, technical owner, technical manager counts)

#### Data Relationships

- [x] **Many-to-Many Relationships**
  - Products â†” University Units (products can be used by multiple units)
  - Employees â†” Products â†” Roles (employees can have multiple roles across multiple products)
  - Software â†” Operating Systems (software can support multiple operating systems)
  - Flexible assignment system supporting all role combinations

#### University Units Management

- [x] **University Units Database**
  - Track university departments, colleges, administrative units, support services, and research units
  - Unit hierarchy support with parent-child relationships
  - Unit codes, descriptions, and type classification
  - Association with software products and usage tracking

#### Audit and Tracking

- [x] **Audit Log System**
  - Track all data changes (INSERT, UPDATE, DELETE operations)
  - Store old and new values in JSON format
  - Track who made changes and when
  - Support for compliance and change tracking requirements

#### Reporting and Analytics

- [x] **Role Assignment Reports**
  - View all products and their assigned roles
  - View all employees and their assigned products/roles
  - Identify products with incomplete role assignments
  - Generate reports on role distribution and workload
  - Database views for common queries and reporting

## Technical Architecture

### Backend Framework

- **Language**: PHP 8.3 âœ…
- **Template Engine**: Twig 3.x âœ…
- **Database**: MySQL 8.0+ âœ…
- **Database Access**: PDO (PHP Data Objects) âœ…
- **Web Server**: Apache (containerized) âœ…
- **Environment Management**: PHP DotEnv for configuration âœ…

### Frontend Framework

- **CSS Framework**: Bootstrap 5.x âœ…
- **JavaScript Library**: DataTables (v2.3.3) âœ…
- **Browser Compatibility**: Modern browsers (Chrome, Firefox, Safari, Edge) âœ…
- **Responsive Design**: Fully responsive interface âœ…

### Containerization

- **Platform**: Docker âœ…
- **Architecture**: Multi-container setup with Docker Compose âœ…
- **Containers**:
  - Web server (Apache + PHP 8.3) âœ…
  - MySQL database âœ…
  - phpMyAdmin for database management âœ…

## Technical Requirements

**ğŸ—ï¸ BUILD LOCATION: All application code, configuration files, and assets must be built within the `application/` folder in the project root directory.**

### 1. Docker Configuration

**Note: All Docker configuration files should be placed within the `application/` folder.**

#### Docker Compose Services

- [x] **Web Service**
  - Base image: `php:8.3-apache` âœ…
  - PHP extensions: PDO, PDO_MySQL, Twig âœ…
  - Volume mounts for application code âœ…
  - Port mapping for web access (8080:80) âœ…

- [x] **Database Service**
  - Base image: `mysql:8.0` âœ…
  - Persistent volume for data storage âœ…
  - Environment variables for database configuration âœ…
  - Health checks âœ…

- [x] **Database Management**
  - phpMyAdmin container for database administration âœ…
  - Access via port 8081 âœ…

#### Environment Configuration

- [x] `.env` support for environment-specific variables âœ…
- [x] Separate configurations for development/production âœ…
- [x] Database connection parameters âœ…
- [x] Application settings âœ…

### 2. PHP Backend Requirements

#### Core Components

- [x] **Application Structure**
  - MVC architectural pattern âœ…
  - Routing system (index.php with path-based routing) âœ…
  - Controller classes (HomeController, EmployeeController, SoftwareController, etc.) âœ…
  - Model classes for database interaction (Employee, SoftwareProduct, UniversityUnit) âœ…
  - View templates using Twig âœ…

- [x] **Database Layer**
  - PDO connection manager âœ…
  - Database migration system (schema.sql) âœ…
  - Prepared statements for security âœ…
  - Transaction support âœ…
  - Database views for complex queries âœ…

- [x] **Database Testing and Monitoring Scripts**
  - Connection testing script with detailed diagnostics âœ…
  - Database performance testing scripts âœ…
  - Query execution time measurement tools âœ…
  - Connection pool status monitoring âœ…
  - Database health check utilities âœ…

- [x] **Security Features**
  - Input validation and sanitization âœ…
  - CSRF protection âœ…
  - SQL injection prevention (prepared statements) âœ…
  - XSS protection âœ…

- [x] **Administrative Interface**
  - Admin dashboard for system monitoring âœ…
  - Database connectivity testing interface âœ…
  - Performance monitoring tools âœ…
  - System diagnostics and health checks âœ…
  - Table statistics and monitoring âœ…

#### PHP Dependencies (Composer)

- [x] Twig template engine (v3.x) âœ…
- [x] PHP DotEnv for environment management âœ…
- [x] Development dependencies (PHPUnit, PHP CodeSniffer) âœ…
- [x] PSR-4 autoloading configuration âœ…

### 3. Database Requirements

#### MySQL Configuration

- [x] Database schema design âœ…
- [x] Table creation scripts (schema.sql) âœ…
- [x] Sample data for development (sample-data.sql) âœ…
- [x] Indexing strategy âœ…
- [x] Foreign key constraints âœ…

#### Database Features

- [x] UTF-8 character set support (utf8mb4) âœ…
- [x] Foreign key constraints âœ…
- [x] Database views for complex queries âœ…
- [x] Audit logging system âœ…
- [x] Performance monitoring capabilities âœ…

#### Initial Mock Data Requirements

- [x] **Employee Mock Data (10+ records)**
  - Realistic employee names and contact information âœ…
  - Mix of different university departments/roles âœ…
  - Variety of employees to demonstrate role assignment flexibility âœ…
  - Include employees who fill multiple software roles âœ…

- [x] **Software Product Mock Data (10+ records)**
  - Diverse software types commonly used in university environments âœ…
  - Mix of operating systems (Windows, macOS, Linux, cross-platform) âœ…
  - Combination of vendor-managed and internally managed software âœ…
  - Include popular software categories:
    - Academic software (research tools, statistical packages) âœ…
    - Administrative software (HR, finance, student information systems) âœ…
    - Development/technical tools âœ…
    - Office productivity software âœ…
  - Realistic vendor names for vendor-managed products âœ…

- [x] **University Unit Mock Data (10+ records)**
  - Representative university departments and units:
    - Academic departments (Computer Science, Biology, Mathematics, etc.) âœ…
    - Administrative units (IT Services, Human Resources, Finance, etc.) âœ…
    - Support services (Library, Student Services, Facilities, etc.) âœ…
  - Realistic unit names and organizational structure âœ…
  - Unit types and hierarchical relationships âœ…

- [x] **Operating System Mock Data**
  - Support for major operating systems (Windows, macOS, Linux variants) âœ…
  - OS family classification and version tracking âœ…

- [x] **Mock Data Associations**
  - Each software product assigned all three required roles âœ…
  - Demonstrate role assignment flexibility:
    - Some products with all roles assigned to different employees âœ…
    - Some products with same employee in multiple roles âœ…
    - Some products with all three roles assigned to same employee âœ…
  - Multiple software products associated with each university unit âœ…
  - Multiple university units using the same software products âœ…
  - Realistic cross-departmental software usage patterns âœ…
  - Software-to-operating system associations âœ…

### 4. Frontend Requirements

#### Bootstrap Integration

- [x] Bootstrap 5.x CSS and JS files âœ…
- [x] Responsive grid system implementation âœ…
- [x] Form styling and validation âœ…
- [x] Navigation components âœ…
- [x] Modal dialogs âœ…
- [x] Alert/notification system âœ…

#### DataTables Integration

- [x] DataTables library and dependencies âœ…
- [x] Server-side processing capability âœ…
- [x] Sorting, filtering, and pagination âœ…
- [x] Column customization âœ…
- [x] Export functionality (CSV, PDF, Excel) âœ…
- [x] Responsive table design âœ…

#### JavaScript Features

- [x] AJAX functionality for dynamic content âœ…
- [x] Form validation âœ…
- [x] Interactive UI components âœ…
- [x] Error handling and user feedback âœ…

#### User Interface Views

- [x] **Employee View**
  - Search functionality for finding specific employees âœ…
  - Tabular display of search results with DataTables âœ…
  - Show all software products associated with each person âœ…
  - Display person's roles for each software product âœ…
  - CRUD operations (Create, Read, Update, Delete) âœ…
  - Role count summaries âœ…

- [x] **Software View**
  - Filter and search capabilities for software properties:
    - Software name âœ…
    - Operating system(s) âœ…
    - Vendor status and vendor name âœ…
    - University units using the software âœ…
  - Tabular display of filtered software results âœ…
  - Show assigned roles (Business Owner, Technical Owner, Technical Manager) âœ…
  - Show associated campus units for each software âœ…
  - CRUD operations with modal forms âœ…

- [x] **University Unit View**
  - Search functionality for university units/departments âœ…
  - Tabular display of campus units âœ…
  - Show all software products associated with each unit âœ…
  - Unit type classification and hierarchy support âœ…
  - CRUD operations âœ…

- [x] **Dashboard View**
  - Summary statistics (total employees, software, units) âœ…
  - Recent data overview âœ…
  - Quick navigation to main sections âœ…

- [x] **Admin Dashboard**
  - Database connectivity testing interface âœ…
  - Performance monitoring tools âœ…
  - System diagnostics and health checks âœ…
  - Table statistics and row counts âœ…

- [x] **Common Table Features**
  - Responsive table design for all views âœ…
  - DataTables integration with advanced features âœ…
  - Export functionality (CSV, Excel, PDF, Print) âœ…
  - Real-time search and filtering âœ…
  - Pagination for large datasets âœ…
  - Column sorting and customization âœ…

### 5. Development Environment

**Important: All application files must be created and maintained within the `application/` folder in the project root.**

#### Local Development Setup

- [x] Docker Compose for local development (located in `application/docker-compose.yml`) âœ…
- [x] Hot reloading for code changes (volume mounts) âœ…
- [x] Debug configuration âœ…
- [x] Development tools integration âœ…

#### Code Organization

- [x] Clear directory structure within the `application/` folder âœ…
- [x] Separation of concerns (MVC pattern) âœ…
- [x] Configuration management (Database, TwigConfig classes) âœ…
- [x] Asset management (CSS, JS, images in public folder) âœ…

### 6. Performance Requirements

#### Optimization

- [ ] Database query optimization
- [ ] Caching strategy (if needed)
- [ ] Asset minification and compression
- [ ] Image optimization

#### Scalability Considerations

- [ ] Efficient database queries
- [ ] Pagination for large datasets
- [ ] Resource usage monitoring

### 7. Security Requirements

#### Application Security

- [ ] Input validation on both client and server side
- [ ] Secure authentication system (if needed)
- [ ] Session management
- [ ] Error handling without information disclosure

#### Infrastructure Security

- [ ] Container security best practices
- [ ] Database access restrictions
- [ ] Environment variable protection
- [ ] HTTPS configuration (production)

### 8. Testing Requirements

#### Testing Strategy

- [ ] Unit tests for PHP classes
- [ ] Integration tests for database operations
- [ ] Frontend testing for JavaScript functionality
- [ ] End-to-end testing scenarios

#### Administrative Testing Tools

- [x] **Database Connectivity Tests**
  - Real-time connection status checker âœ…
  - Connection timeout and retry testing âœ…
  - Multiple database connection testing âœ…
  - Connection pool utilization monitoring âœ…

- [x] **Database Performance Tests**
  - Query execution time benchmarking âœ…
  - Table optimization analysis âœ…
  - Performance metrics collection âœ…
  - Database load testing utilities âœ…
  - Memory usage monitoring during operations âœ…

- [x] **Web-based Admin Testing Interface**
  - Admin panel for running diagnostic tests âœ…
  - Test result logging and history âœ…
  - Performance metrics visualization âœ…
  - Real-time system status dashboard âœ…
  - Table statistics and health monitoring âœ…

- [x] **Automated Health Checks**
  - Scheduled connectivity tests âœ…
  - Performance threshold monitoring âœ…
  - System resource monitoring âœ…
  - Database integrity checks âœ…

#### Quality Assurance

- [x] Code linting and formatting standards (PHP CodeSniffer) âœ…
- [x] Automated testing framework setup (PHPUnit) âœ…
- [ ] Performance testing
- [ ] Security testing

### 9. Documentation Requirements

#### Technical Documentation

- [x] Installation and setup instructions âœ…
- [x] Database schema documentation âœ…
- [x] Configuration guide âœ…
- [x] Administrative testing tools documentation âœ…
- [x] Database connectivity testing procedures âœ…
- [ ] API documentation (if applicable)
- [ ] Performance testing guidelines and benchmarks

#### User Documentation

- [x] User manual for application features âœ…
- [x] Administrator guide âœ…
- [x] Troubleshooting guide âœ…

### 10. Deployment Requirements

**Note: All deployment configurations should be contained within the `application/` folder structure.**

#### Production Deployment

- [x] Production Docker configuration (in `application/` folder) âœ…
- [x] Environment-specific settings âœ…
- [x] Monitoring and logging setup âœ…
- [ ] Backup and recovery procedures

#### CI/CD Pipeline

- [ ] Automated testing
- [ ] Build process
- [ ] Deployment automation
- [ ] Version control integration

## File Structure Template

**Note: All application code and files should be built within the `application/` folder.**

```text
datatables-poc-2025/
â”œâ”€â”€ application/                          âœ… COMPLETED
â”‚   â”œâ”€â”€ docker-compose.yml               âœ… COMPLETED
â”‚   â”œâ”€â”€ Dockerfile                       âœ… COMPLETED
â”‚   â”œâ”€â”€ .env.example                     âœ… COMPLETED
â”‚   â”œâ”€â”€ .gitignore                       âœ… COMPLETED
â”‚   â”œâ”€â”€ composer.json                    âœ… COMPLETED
â”‚   â”œâ”€â”€ composer.lock                    âœ… COMPLETED
â”‚   â”œâ”€â”€ README.md                        âœ… COMPLETED
â”‚   â”œâ”€â”€ src/                            âœ… COMPLETED
â”‚   â”‚   â”œâ”€â”€ Controllers/                âœ… COMPLETED
â”‚   â”‚   â”‚   â”œâ”€â”€ HomeController.php      âœ… COMPLETED
â”‚   â”‚   â”‚   â”œâ”€â”€ EmployeeController.php  âœ… COMPLETED
â”‚   â”‚   â”‚   â”œâ”€â”€ SoftwareController.php  âœ… COMPLETED
â”‚   â”‚   â”‚   â”œâ”€â”€ UniversityUnitController.php âœ… COMPLETED
â”‚   â”‚   â”‚   â””â”€â”€ AdminController.php     âœ… COMPLETED
â”‚   â”‚   â”œâ”€â”€ Models/                     âœ… COMPLETED
â”‚   â”‚   â”‚   â”œâ”€â”€ Employee.php            âœ… COMPLETED
â”‚   â”‚   â”‚   â”œâ”€â”€ SoftwareProduct.php     âœ… COMPLETED
â”‚   â”‚   â”‚   â””â”€â”€ UniversityUnit.php      âœ… COMPLETED
â”‚   â”‚   â”œâ”€â”€ Views/                      âœ… COMPLETED
â”‚   â”‚   â”‚   â””â”€â”€ templates/              âœ… COMPLETED
â”‚   â”‚   â”‚       â”œâ”€â”€ base.twig           âœ… COMPLETED
â”‚   â”‚   â”‚       â”œâ”€â”€ dashboard.twig      âœ… COMPLETED
â”‚   â”‚   â”‚       â”œâ”€â”€ error.twig          âœ… COMPLETED
â”‚   â”‚   â”‚       â”œâ”€â”€ admin/              âœ… COMPLETED
â”‚   â”‚   â”‚       â”œâ”€â”€ employees/          âœ… COMPLETED
â”‚   â”‚   â”‚       â”œâ”€â”€ software/           âœ… COMPLETED
â”‚   â”‚   â”‚       â””â”€â”€ units/              âœ… COMPLETED
â”‚   â”‚   â””â”€â”€ Config/                     âœ… COMPLETED
â”‚   â”‚       â”œâ”€â”€ Database.php            âœ… COMPLETED
â”‚   â”‚       â””â”€â”€ TwigConfig.php          âœ… COMPLETED
â”‚   â”œâ”€â”€ public/                         âœ… COMPLETED
â”‚   â”‚   â”œâ”€â”€ index.php                   âœ… COMPLETED
â”‚   â”‚   â”œâ”€â”€ favicon.svg                 âœ… COMPLETED
â”‚   â”‚   â”œâ”€â”€ css/ (Bootstrap & custom)   âœ… COMPLETED
â”‚   â”‚   â”œâ”€â”€ js/ (DataTables & custom)   âœ… COMPLETED
â”‚   â”‚   â””â”€â”€ images/                     âœ… COMPLETED
â”‚   â”œâ”€â”€ database/                       âœ… COMPLETED
â”‚   â”‚   â”œâ”€â”€ schema.sql                  âœ… COMPLETED
â”‚   â”‚   â””â”€â”€ sample-data.sql             âœ… COMPLETED
â”‚   â”œâ”€â”€ vendor/ (Composer dependencies) âœ… COMPLETED
â”‚   â””â”€â”€ tests/                          âœ… SETUP (PHPUnit configured)
â””â”€â”€ Documentation Files                 âœ… COMPLETED
    â”œâ”€â”€ README.md                       âœ… COMPLETED
    â”œâ”€â”€ REQUIREMENTS.md                 âœ… COMPLETED
    â”œâ”€â”€ DATABASE.md                     âœ… COMPLETED
    â””â”€â”€ LICENSE                         âœ… COMPLETED
```

## Current Implementation Status

### âœ… COMPLETED FEATURES

The Software Product Tracking System has been fully implemented with the following features:

1. **Complete Database Schema** - All tables, relationships, views, and sample data
2. **Full MVC Architecture** - Controllers, Models, Views with Twig templates  
3. **Docker Containerization** - Multi-container setup with web server, database, and phpMyAdmin
4. **Employee Management** - Full CRUD operations with role tracking
5. **Software Product Management** - Complete software inventory with vendor and OS support
6. **University Unit Management** - Department and unit organization
7. **Role Assignment System** - Flexible three-role system (Business Owner, Technical Owner, Technical Manager)
8. **Advanced DataTables Integration** - Search, filter, sort, export functionality
9. **Admin Dashboard** - Database testing and performance monitoring tools
10. **Responsive UI** - Bootstrap 5 responsive design
11. **Documentation** - Complete setup and user documentation

### ğŸš§ FUTURE ENHANCEMENTS

Areas identified for potential future development:

1. **Enhanced Security**
   - User authentication and authorization system
   - Role-based access controls
   - Advanced CSRF and XSS protection

2. **Advanced Testing**
   - Comprehensive unit test suite
   - Integration testing
   - End-to-end testing automation
   - Performance benchmarking

3. **Production Features**
   - Automated backup and recovery procedures
   - CI/CD pipeline integration
   - Advanced monitoring and alerting
   - Load balancing and scaling considerations

4. **Extended Functionality**
   - API endpoints for third-party integration
   - Advanced reporting and analytics
   - Email notifications for role changes
   - Data export/import capabilities
   - Advanced search and filtering options

## Next Steps for Further Development

1. **Security Implementation**: Implement user authentication and role-based access controls
2. **Testing Expansion**: Develop comprehensive automated test suite
3. **Performance Optimization**: Implement caching strategies and query optimization
4. **Production Deployment**: Set up CI/CD pipeline and production environment
5. **API Development**: Create RESTful API endpoints for external integrations

## Implementation Notes

### âœ… Successfully Implemented

- **Modern Web Application Framework**: Built with PHP 8.3, Twig 3.x, MySQL 8.0, Bootstrap 5, and DataTables
- **Industry-Standard Components**: All components are well-documented and widely supported
- **Containerized Deployment**: Docker-based architecture ensures consistent deployment across environments
- **Security Foundation**: Built-in security measures including prepared statements, input validation, and XSS protection
- **Scalable Architecture**: MVC pattern supports both simple and complex business requirements
- **Comprehensive Data Model**: Flexible many-to-many relationships support complex university software tracking needs
- **Advanced UI/UX**: Bootstrap 5 responsive design with DataTables for rich data interaction
- **Administrative Tools**: Built-in database testing and performance monitoring capabilities

### Key Architectural Decisions

1. **MVC Pattern**: Clear separation of concerns with Controllers handling routing, Models managing data, and Views (Twig) handling presentation
2. **Database Design**: Normalized schema with proper indexing, foreign keys, and audit logging
3. **Flexible Role System**: Single software_roles table allows any combination of role assignments
4. **Operating System Support**: Many-to-many relationship allows software to support multiple OS platforms
5. **Unit Hierarchy**: Self-referential university_units table supports organizational structure
6. **Performance Monitoring**: Built-in admin tools for database connectivity and performance testing

### Technical Highlights

- **Responsive Design**: Fully responsive interface works on all device sizes
- **Advanced DataTables**: Server-side processing, export functionality, and real-time search
- **Docker Integration**: Complete containerization with persistent volumes and health checks
- **Environment Configuration**: Flexible .env-based configuration for different deployment environments
- **Audit Trail**: Complete change tracking for compliance and debugging
- **Database Views**: Pre-built views for common queries and reporting needs

This implementation provides a solid, production-ready foundation for university software product tracking with room for future enhancements and scaling.
